"use strict";(self.webpackChunkng_weather=self.webpackChunkng_weather||[]).push([[129],{7129:(Q,d,c)=>{c.r(d),c.d(d,{MainPageModule:()=>z,routesMainPage:()=>C});var l=c(6814),u=c(6988),t=c(2679),_=c(8152),f=c(9352),h=c(8986),m=c(4056);const g=["*"];let b=(()=>{class n{constructor(){this.active=!1,this.onTabSelected=new t.vpe,this.onTabClosed=new t.vpe}onTabClicked(){this.data&&this.onTabSelected.emit(this.data)}onCloseClicked(){this.data&&this.onTabClosed.emit(this.data)}static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-tab"]],inputs:{data:"data",title:"title",active:"active"},outputs:{onTabSelected:"onTabSelected",onTabClosed:"onTabClosed"},standalone:!0,features:[t.jDz],ngContentSelectors:g,decls:4,vars:2,consts:[[1,"app-tab",3,"click"],[1,"close",3,"click"]],template:function(o,a){1&o&&(t.F$t(),t.TgZ(0,"div",0),t.NdJ("click",function(){return a.onTabClicked()}),t.Hsn(1),t.TgZ(2,"span",1),t.NdJ("click",function(){return a.onCloseClicked()}),t._uU(3,"\xd7"),t.qZA()()),2&o&&t.ekj("selected",a.active)},styles:[".app-tab[_ngcontent-%COMP%]{padding:10px 40px 10px 20px;cursor:pointer;background-color:#bdcacf;border-radius:20px;transition:background-color .3s ease;position:relative}.app-tab[_ngcontent-%COMP%]:hover{background-color:#d0d0d0}.app-tab[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:0;padding:10px;cursor:pointer}.app-tab.selected[_ngcontent-%COMP%]{background-color:#cacaca}"]})}return n})();const T=["*"];let v=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-tab-container"]],standalone:!0,features:[t.jDz],ngContentSelectors:T,decls:2,vars:0,consts:[[1,"app-tab-container"]],template:function(o,a){1&o&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},styles:[".app-tab-container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;background-color:#f0f0f0;border-bottom:1px solid #ccc;padding:10px;overflow-x:auto}.app-tab-container[_ngcontent-%COMP%]     .app-tab{margin-right:5px}"]})}return n})();const x=n=>["./forecast",n];function Z(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",1)(2,"div")(3,"h3"),t._uU(4),t.qZA(),t.TgZ(5,"h4"),t._uU(6),t.qZA(),t.TgZ(7,"h4"),t._uU(8,"Temperatures today:"),t.qZA(),t.TgZ(9,"p"),t._uU(10),t.ALo(11,"number"),t.ALo(12,"number"),t.ALo(13,"number"),t.qZA(),t.TgZ(14,"p")(15,"a",2),t._uU(16),t.qZA()()(),t.TgZ(17,"div"),t._UZ(18,"img",3),t.qZA()()()),2&n){const e=t.oxw();t.xp6(4),t.AsE("",e.location.data.name," (",e.location.zip,")"),t.xp6(2),t.hij("Current conditions: ",e.location.data.weather[0].main,""),t.xp6(4),t.lnq(" Current ",t.xi3(11,9,e.location.data.main.temp,".0-0")," - Max ",t.xi3(12,12,e.location.data.main.temp_max,".0-0")," - Min ",t.xi3(13,15,e.location.data.main.temp_min,".0-0")," "),t.xp6(5),t.Q6J("routerLink",t.VKq(18,x,e.location.zip)),t.xp6(1),t.hij("Show 5-day forecast for ",e.location.data.name,""),t.xp6(2),t.Q6J("src",e.weatherIcon,t.LSH)}}let y=(()=>{class n{ngOnInit(){console.log(this.location)}static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-current-conditions"]],inputs:{location:"location",weatherIcon:"weatherIcon"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"well","flex"],[3,"routerLink"],[3,"src"]],template:function(o,a){1&o&&t.YNc(0,Z,19,20,"div",0),2&o&&t.Q6J("ngIf",a.location)},dependencies:[l.O5,u.rH,l.JJ],styles:[".close[_ngcontent-%COMP%]{cursor:pointer}.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]})}return n})();function w(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-tab",3),t.NdJ("onTabClosed",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.removeLocation(a))})("onTabSelected",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.selectTab(a))}),t.TgZ(1,"span"),t._uU(2),t.qZA()()}if(2&n){const e=s.$implicit;t.Q6J("data",e),t.xp6(2),t.AsE("",null==e||null==e.data?null:e.data.name," (",null==e?null:e.zip,")")}}function I(n,s){if(1&n&&(t.TgZ(0,"app-tab-container"),t.YNc(1,w,3,3,"app-tab",2),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.locations)}}function L(n,s){1&n&&t.GkF(0)}const A=n=>({$implicit:n});function J(n,s){if(1&n&&(t.ynx(0),t.YNc(1,L,1,0,"ng-container",4),t.BQk()),2&n){const e=t.oxw(),o=t.MAs(3);t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(2,A,e.selectedLocation))}}function M(n,s){if(1&n&&t._UZ(0,"app-current-conditions",5),2&n){const e=s.$implicit,o=t.oxw();t.Q6J("location",e)("weatherIcon",o.weatherIcon)}}let O=(()=>{class n{constructor(e,o){this.weatherService=e,this.locationService=o,this.currentConditions$=this.weatherService.currentConditions$,this.locations=[],this._onDestroy=new _.xQ}ngOnInit(){this.takeCurrentConditions()}takeCurrentConditions(){this.currentConditions$.pipe((0,f.R)(this._onDestroy)).subscribe(e=>{this.locations=e,this.selectedLocation||(this.selectedLocation=e[0],this.selectedLocation&&this.getWeatherIcon(this.selectedLocation))})}selectTab(e){this.selectedLocation=e,e&&this.getWeatherIcon(e)}getWeatherIcon(e){e.data.weather[0].id&&(this.weatherIcon=this.weatherService.getWeatherIcon(e.data.weather[0].id))}removeLocation(e){if(e.zip){const o=e.zip;this.locationService.removeLocation(o),0===this.locations.length?this.selectedLocation=null:this.selectedLocation.zip===o&&(this.selectedLocation=this.locations[0],this.selectedLocation&&this.getWeatherIcon(this.selectedLocation))}}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(h.F),t.Y36(m.a))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-current-conditions-container"]],decls:4,vars:2,consts:[[4,"ngIf"],["currentConditionsTemplate",""],[3,"data","onTabClosed","onTabSelected",4,"ngFor","ngForOf"],[3,"data","onTabClosed","onTabSelected"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"location","weatherIcon"]],template:function(o,a){1&o&&t.YNc(0,I,2,1,"app-tab-container",0)(1,J,2,4,"ng-container",0)(2,M,1,2,"ng-template",null,1,t.W1O),2&o&&(t.Q6J("ngIf",a.locations),t.xp6(1),t.Q6J("ngIf",a.selectedLocation))},dependencies:[l.sg,l.O5,l.tP,b,v,y]})}return n})();var r=c(6223);function P(n,s){1&n&&(t.TgZ(0,"div"),t._uU(1," Please enter a valid US postal code.\n"),t.qZA())}let k=(()=>{class n{constructor(e){this.service=e,this.form=new r.cw({postalCode:new r.NI("",[n=>n.value&&!/^\d{5}(-\d{4})?$/.test(n.value)?{usPostalCodeInvalid:!0}:null])})}addLocation(e){this.service.addLocation(e)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(m.a))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-zipcode-entry"]],decls:9,vars:3,consts:[[3,"formGroup"],[1,"well"],["type","text","formControlName","postalCode","placeholder","Zipcode",1,"form-control"],[1,"btn","btn-primary",3,"disabled","click"],[4,"ngIf"]],template:function(o,a){if(1&o&&(t.TgZ(0,"form",0)(1,"div",1)(2,"h2"),t._uU(3,"Enter a zipcode:"),t.qZA(),t._UZ(4,"input",2)(5,"br"),t.TgZ(6,"button",3),t.NdJ("click",function(){let p;return a.addLocation(null==(p=a.form.get("postalCode"))?null:p.value)}),t._uU(7," Add location "),t.qZA()()(),t.YNc(8,P,2,0,"div",4)),2&o){let i,p;t.Q6J("formGroup",a.form),t.xp6(6),t.Q6J("disabled",(null==(i=a.form.get("postalCode"))||null==i.errors?null:i.errors.usPostalCodeInvalid)||""==(null==(i=a.form.get("postalCode"))?null:i.value)),t.xp6(2),t.Q6J("ngIf",null==(p=a.form.get("postalCode"))||null==p.errors?null:p.errors.usPostalCodeInvalid)}},dependencies:[l.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],encapsulation:2})}return n})(),F=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-main-page"]],decls:3,vars:0,consts:[[1,"container-fluid"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"app-zipcode-entry")(2,"app-current-conditions-container"),t.qZA())},dependencies:[O,k],encapsulation:2})}return n})(),U=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[l.ez]})}return n})();const C=[{path:"",component:F}];let z=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[l.ez,u.Bz.forChild(C),r.UX,U]})}return n})()}}]);